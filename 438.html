<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Quiz Final - QCM Plausibles</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-white to-slate-100 text-gray-800">
  <div class="max-w-2xl mx-auto py-8 px-4 min-h-screen">
    <h1 class="text-2xl font-bold mb-6 text-center text-blue-700">Quiz - L‚Äô√©volution historique de l‚Äôanalyse financi√®re</h1>
    <div class="mb-6 text-center">
      <label class="block mb-1 font-semibold">Choisis ton pr√©nom :</label>
      <select class="border border-gray-300 rounded px-4 py-2" id="nom">
        <option value="azad">azad</option>
        <option value="remi">remi</option>
      </select>
    </div>
    <div id="quiz-container"></div>
    <div class="hidden text-center mt-10 bg-white p-6 rounded shadow" id="resultat">
      <h2 class="text-xl font-bold text-green-600 mb-2">Merci <span id="prenomResultat"></span> !</h2>
      <p class="text-lg">Tu as obtenu <span id="scoreFinal"></span>.</p>
      <div class="hidden mt-10 bg-white p-6 rounded shadow" id="corrections">
        <h3 class="text-xl font-bold text-blue-600 mb-4">Corrections :</h3>
        <ul id="recapitulatif" class="space-y-6 text-left"></ul>
      </div>
    </div>
  </div>

<script>
const questions = [
  {
    "question": "Le b√©n√©fice net d‚Äôune entreprise, qui √©tait de 0,2 % du chiffre d‚Äôaffaires en ann√©e 1 bondit de 40 % en ann√©e 2. Qu‚Äôen pensez-vous ?",
    "choices": [
      {
        "text": "Le chiffre d‚Äôaffaires a augment√© dans les m√™mes proportions.",
        "correct": false
      },
      {
        "text": "Un tel bond prouve une performance structurelle tr√®s solide.",
        "correct": false
      },
      {
        "text": "La faiblesse du b√©n√©fice fait qu‚Äôune simple am√©lioration conjoncturelle peut le faire cro√Ætre rapidement.",
        "correct": true
      },
      {
        "text": "Cela signifie que la rentabilit√© est d√©sormais stable et √©lev√©e.",
        "correct": false
      }
    ]
  },
  {
    "question": "Une entreprise de raffinage p√©trolier aura-t-elle plut√¥t int√©r√™t √† se financer par capitaux propres ou par endettement ?",
    "choices": [
      {
        "text": "Par obligations convertibles pour r√©duire le co√ªt.",
        "correct": false
      },
      {
        "text": "Par capitaux propres : entreprise tr√®s cyclique.",
        "correct": true
      },
      {
        "text": "Par endettement pour profiter des effets de levier.",
        "correct": false
      },
      {
        "text": "Par emprunts courts pour plus de flexibilit√©.",
        "correct": false
      }
    ]
  },
  {
    "question": "Une start-up Internet aura-t-elle plut√¥t int√©r√™t √† se financer par capitaux propres ou par endettement ?",
    "choices": [
      {
        "text": "Par cr√©dit fournisseur pour limiter les risques.",
        "correct": false
      },
      {
        "text": "Par subvention publique comme unique levier.",
        "correct": false
      },
      {
        "text": "Par endettement bancaire pour √©viter la dilution.",
        "correct": false
      },
      {
        "text": "Par capitaux propres car les soci√©t√©s Internet ont beaucoup de co√ªts fixes.",
        "correct": true
      }
    ]
  },
  {
    "question": "Vous √™tes nomm√© directeur financier d‚Äôun groupe cimentier non endett√©. Quelles sont vos pr√©occupations ?",
    "choices": [
      {
        "text": "Augmenter rapidement les volumes de production.",
        "correct": false
      },
      {
        "text": "Acc√©l√©rer l‚Äôendettement pour doper la rentabilit√©.",
        "correct": false
      },
      {
        "text": "Conserver une structure rigide pour s√©curiser les marges.",
        "correct": false
      },
      {
        "text": "¬´ Variabiliser ¬ª les co√ªts et r√©duire les co√ªts fixes.",
        "correct": true
      }
    ]
  },
  {
    "question": "Vous √™tes nomm√© directeur financier d‚Äôun groupe cimentier endett√©. Quelles sont vos pr√©occupations ?",
    "choices": [
      {
        "text": "Les m√™mes qu‚Äôen 4 et vous d√©sendetter !",
        "correct": true
      },
      {
        "text": "Maintenir le niveau d‚Äôendettement pour profiter du levier.",
        "correct": false
      },
      {
        "text": "Investir davantage pour diluer les charges fixes.",
        "correct": false
      },
      {
        "text": "Distribuer les b√©n√©fices pour rassurer les actionnaires.",
        "correct": false
      }
    ]
  },
  {
    "question": "Les frais de personnel sont-ils des co√ªts variables ou des co√ªts fixes ?",
    "choices": [
      {
        "text": "Cela d√©pend du type de personnel, de la r√©mun√©ration et de l‚Äôhorizon.",
        "correct": true
      },
      {
        "text": "Ne peuvent √™tre class√©s : ils sont hybrides par nature.",
        "correct": false
      },
      {
        "text": "Toujours fixes car li√©s √† des contrats longue dur√©e.",
        "correct": false
      },
      {
        "text": "Toujours variables car ajustables par les RH.",
        "correct": false
      }
    ]
  },
  {
    "question": "Une banque d‚Äôinvestissement annonce les r√©sultats semestriels les plus √©lev√©s de son histoire, qu‚Äôen pensez-vous ?",
    "choices": [
      {
        "text": "Cela valide le plan strat√©gique et son ex√©cution.",
        "correct": false
      },
      {
        "text": "Cela permet d‚Äôaugmenter la part variable des salaires.",
        "correct": false
      },
      {
        "text": "Cela indique une rentabilit√© durablement √©lev√©e.",
        "correct": false
      },
      {
        "text": "Il faut distinguer l‚Äôam√©lioration conjoncturelle de l‚Äôam√©lioration structurelle.",
        "correct": true
      }
    ]
  },
  {
    "question": "Est-ce Renault ou Volkswagen qui est le plus proche de son point mort ? Pourquoi ?",
    "choices": [
      {
        "text": "Renault car son chiffre d‚Äôaffaires est plus bas.",
        "correct": false
      },
      {
        "text": "Renault car il est plus sensible √† une variation du chiffre d‚Äôaffaires.",
        "correct": true
      },
      {
        "text": "Volkswagen car sa marge est plus faible.",
        "correct": false
      },
      {
        "text": "Aucun, car ils ont une structure de co√ªts similaire.",
        "correct": false
      }
    ]
  },
  {
    "question": "Qu‚Äôest-ce que le levier d‚Äôexploitation et de quoi d√©pend-il ?",
    "choices": [
      {
        "text": "Il d√©pend du taux d‚Äôint√©r√™t et des amortissements.",
        "correct": false
      },
      {
        "text": "Il mesure la rentabilit√© des actifs.",
        "correct": false
      },
      {
        "text": "C‚Äôest le rapport entre la dette et les capitaux propres.",
        "correct": false
      },
      {
        "text": "Il indique la sensibilit√© du r√©sultat d‚Äôexploitation √† une variation du chiffre d‚Äôaffaires.",
        "correct": true
      }
    ]
  },
  {
    "question": "Les bonus et primes vers√©s au personnel sont-ils des co√ªts fixes ou variables ?",
    "choices": [
      {
        "text": "Des charges exceptionnelles sans lien au cycle.",
        "correct": false
      },
      {
        "text": "Des co√ªts variables car li√©s aux r√©sultats.",
        "correct": true
      },
      {
        "text": "Des co√ªts fixes car d√©cid√©s en d√©but d‚Äôann√©e.",
        "correct": false
      },
      {
        "text": "Des co√ªts d‚Äôinvestissement capital humain.",
        "correct": false
      }
    ]
  },
  {
    "question": "Le dividende vers√© par une soci√©t√© est-il un co√ªt fixe ou un co√ªt variable ?",
    "choices": [
      {
        "text": "Une obligation l√©gale annuelle.",
        "correct": false
      },
      {
        "text": "Un co√ªt variable li√© au b√©n√©fice net.",
        "correct": false
      },
      {
        "text": "Un co√ªt fixe vot√© par les actionnaires.",
        "correct": false
      },
      {
        "text": "Ni l‚Äôun ni l‚Äôautre : c‚Äôest une r√©partition du profit, pas un co√ªt.",
        "correct": true
      }
    ]
  },
  {
    "question": "Les d√©penses publicitaires d‚Äôun nouveau produit sont-elles fixes ou variables ? Et pour un produit √† maturit√© ?",
    "choices": [
      {
        "text": "Toujours variables pour s‚Äôadapter au march√©.",
        "correct": false
      },
      {
        "text": "Toujours fixes quel que soit le cycle.",
        "correct": false
      },
      {
        "text": "Fixes au lancement, variables ensuite.",
        "correct": true
      },
      {
        "text": "D√©penses non classifiables selon le cycle de vie.",
        "correct": false
      }
    ]
  },
  {
    "question": "L‚Äôimp√¥t sur les soci√©t√©s est-il un co√ªt fixe ou un co√ªt variable ?",
    "choices": [
      {
        "text": "Un co√ªt variable car proportionnel au r√©sultat.",
        "correct": true
      },
      {
        "text": "Un co√ªt marginal dans la strat√©gie.",
        "correct": false
      },
      {
        "text": "Un co√ªt fixe car l√©galement √©tabli.",
        "correct": false
      },
      {
        "text": "Une charge non op√©rationnelle.",
        "correct": false
      }
    ]
  },
  {
    "question": "En 2011, les co√ªts fixes d‚ÄôArcelorMittal √©taient de 21,4 Md$ pour des ventes de 94 Md$. Comparez-les √† ceux de 2018-2022. Qu‚Äôest-ce que cela illustre ?",
    "choices": [
      {
        "text": "Que le chiffre d‚Äôaffaires a baiss√© de moiti√©.",
        "correct": false
      },
      {
        "text": "Que les co√ªts fixes ne sont jamais fixes pour toujours.",
        "correct": true
      },
      {
        "text": "Que la rentabilit√© s‚Äôest am√©lior√©e structurellement.",
        "correct": false
      },
      {
        "text": "Que la flexibilit√© de la production est rest√©e faible.",
        "correct": false
      }
    ]
  },
  {
    "question": "Une entreprise peut-elle augmenter sa production de 3 % sans augmenter ses co√ªts fixes ? Et de 30 % ?",
    "choices": [
      {
        "text": "Oui pour 3 %, non pour 30 % sauf investissement.",
        "correct": true
      },
      {
        "text": "Oui dans les deux cas si la marge brute le permet.",
        "correct": false
      },
      {
        "text": "Non pour 3 %, oui pour 30 % gr√¢ce aux √©conomies d‚Äô√©chelle.",
        "correct": false
      },
      {
        "text": "Non dans les deux cas car les co√ªts sont rigides.",
        "correct": false
      }
    ]
  },
  {
    "question": "Quels sont les deux autres √©l√©ments utiles √† conna√Ætre pour appr√©cier le risque op√©rationnel d‚Äôune entreprise ?",
    "choices": [
      {
        "text": "Le taux d‚Äôendettement et le taux de marge nette.",
        "correct": false
      },
      {
        "text": "Le ROCE et la part des charges fixes.",
        "correct": false
      },
      {
        "text": "Le levier op√©rationnel et la position par rapport au point mort.",
        "correct": true
      },
      {
        "text": "Le montant du chiffre d‚Äôaffaires et l‚ÄôEBITDA.",
        "correct": false
      }
    ]
  }
];
</script>

<script>
let score = 0;
let envoiFait = false;
const reponsesUtilisateur = {};

function afficherQuestions() {
  const container = document.getElementById('quiz-container');
  questions.forEach((q, i) => {
    const step = document.createElement('div');
    step.className = "question-step" + (i === 0 ? "" : " hidden");
    step.id = `step${i+1}`;
    let html = `<div class="bg-white shadow p-4 mb-4 rounded">
      <p class="mb-4 font-medium">Question ${i+1} / ${questions.length} :<br/>${q.question}</p>`;
    q.choices.forEach((rep, idx) => {
      const valid = rep.correct ? 'correct' : 'wrong';
      html += `<label class="block mb-3 cursor-pointer hover:bg-blue-50 p-3 border rounded" onclick="repondre(this, 'q${i+1}', '${valid}', ${i+1})">
          <input class="hidden" name="q${i+1}" type="radio" value="${valid}"/> ${rep.text}</label>`;
    });
    html += `</div>`;
    step.innerHTML = html;
    container.appendChild(step);
  });
}

function repondre(label, q, val, i) {
  if (envoiFait || label.classList.contains('answered')) return;
  label.classList.add('answered');
  const questionText = document.querySelector(`#step${i} p`).innerText;
  const bonne = document.querySelector(`input[name="q${i}"][value="correct"]`).parentElement.textContent.trim();
  const choisie = label.textContent.trim();
  reponsesUtilisateur[q] = { question: questionText, bonne: bonne, choisie: choisie };
  if (val === 'correct') score++;
  document.getElementById('step' + i).classList.add('hidden');
  const nextStep = document.getElementById('step' + (i + 1));
  if (nextStep) {
    nextStep.classList.remove('hidden');
  } else {
    if (!envoiFait && confirm("Envoyer tes r√©ponses ?")) {
      envoiFait = true;
      envoyer();
    }
  }
}

function repondre(label, q, val, i) {
  if (envoiFait || label.classList.contains('answered')) return;
  label.classList.add('answered');
  const questionText = document.querySelector(`#step${i} p`).innerText;
  const bonne = document.querySelector(`input[name="q${i}"][value="correct"]`).parentElement.textContent.trim();
  const choisie = label.textContent.trim();
  reponsesUtilisateur[q] = { question: questionText, bonne: bonne, choisie: choisie };
  if (val === 'correct') score++;
  document.getElementById('step' + i).classList.add('hidden');
  const nextStep = document.getElementById('step' + (i + 1));
  if (nextStep) {
    nextStep.classList.remove('hidden');
  } else {
    if (!envoiFait && confirm("Envoyer tes r√©ponses ?")) {
      envoiFait = true;
      envoyer();
    }
  }
}

function envoyer() {
  const nom = document.getElementById('nom').value;
  document.getElementById('quiz-container').classList.add('hidden');
  document.getElementById('resultat').classList.remove('hidden');
  document.getElementById('prenomResultat').textContent = nom;
  document.getElementById('scoreFinal').textContent = score + " / " + questions.length;
  document.getElementById('corrections').classList.remove('hidden');

  const recapList = document.getElementById('recapitulatif');
  recapList.innerHTML = "";
  Object.entries(reponsesUtilisateur).forEach(([key, val], index) => {
    const li = document.createElement('li');
    li.innerHTML = `<p class='font-semibold'>${val.question}</p>
                    <p><span class='text-red-600'>R√©ponse choisie : ${val.choisie}</span></p>
                    <p><span class='text-green-600'>Bonne r√©ponse : ${val.bonne}</span></p>`;
    recapList.appendChild(li);
  });

  const titre = document.querySelector("h1").innerText.trim();

  const data = {
    nom: nom,
    score: score + " / " + questions.length,
    date: new Date().toISOString(),
    sujet: titre,
    title: titre // üü¢ Make attend probablement cette cl√© pr√©cise
  };

  fetch("https://hook.eu2.make.com/7lb3a659dmgwahwrhhef0n4xazag1ahmdddddssdsdssdsd", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });
}

window.onload = afficherQuestions;
</script>
