<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Veille sectorielle — Tereos M&A</title>
<style>
  :root{
    --bg: #0c0f12;          /* fond sombre */
    --bg-soft:#12161b;      /* cartes */
    --text:#e9eef3;         /* texte principal */
    --muted:#96a0ab;        /* texte secondaire */
    --primary:#e30613;      /* rouge Tereos */
    --accent:#ff8a00;       /* orange Tereos */
    --accent2:#ffd200;      /* jaune Tereos */
    --chip:#182028;         /* fond chip */
    --chip-active:#20303c;  /* fond chip active */
    --border:#1f2a33;       /* séparateurs */
    --ring: rgba(227,6,19,.35);
    --radius:18px;
    --shadow: 0 10px 24px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:radial-gradient(1200px 600px at 0% -10%, rgba(227,6,19,.12), transparent 60%),
                               radial-gradient(900px 500px at 100% -20%, rgba(255,138,0,.12), transparent 55%),
                               var(--bg);
       color:var(--text); font: 14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}

  /* Header */
  header{position:sticky;top:0;z-index:20;background:linear-gradient(90deg,var(--primary),var(--accent));
         padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.15)}
  .brand{display:flex;align-items:center;gap:12px;max-width:1200px;margin:0 auto}
  .brand img{height:32px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
  .brand h1{margin:0;font-size:18px;font-weight:700;letter-spacing:.2px}

  /* Container */
  .wrap{max-width:1200px;margin:24px auto;padding:0 18px}

  /* Chips */
  .chips{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 18px}
  .chip{appearance:none;border:1px solid var(--border);background:var(--chip);color:var(--text);
        padding:8px 12px;border-radius:999px;cursor:pointer;transition:.2s; font-weight:600}
  .chip:hover{transform:translateY(-1px)}
  .chip.active{background:var(--chip-active); outline:2px solid var(--ring)}

  /* Carousel (compact) */
  .carousel{position:relative;border-radius:var(--radius);overflow:hidden;background:var(--bg-soft);
            box-shadow:var(--shadow);height:220px;margin-bottom:18px}
  .slide{position:absolute;inset:0;display:none}
  .slide.active{display:flex}
  .slide .media{flex:0 0 38%;background:#0b0f14;overflow:hidden}
  .slide .media img{width:100%;height:100%;object-fit:cover;display:block;opacity:.9}
  .slide .meta{flex:1;padding:18px 18px 18px 18px;display:flex;flex-direction:column;gap:10px}
  .kicker{font-size:12px;font-weight:700;color:var(--accent2)}
  .title{font-size:22px;font-weight:800;margin:0}
  .date{font-size:12px;color:var(--muted)}
  .pill{display:inline-block;background:rgba(255,255,255,.06);border:1px solid var(--border);padding:6px 10px;
        border-radius:999px;font-weight:700;font-size:12px}
  .cnav{position:absolute;inset-inline:10px;top:calc(50% - 20px);display:flex;justify-content:space-between;pointer-events:none}
  .cbtn{pointer-events:auto;width:36px;height:36px;border-radius:50%;border:1px solid var(--border);background:rgba(0,0,0,.35);
        display:grid;place-items:center;font-size:18px;color:#fff;cursor:pointer}
  .cbtn:hover{background:rgba(0,0,0,.5)}

  /* Grid list */
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
  @media (max-width:1050px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:680px){.grid{grid-template-columns:1fr}}
  .card{background:var(--bg-soft);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);
        display:flex;flex-direction:column;min-height:190px}
  .card .thumb{aspect-ratio:16/9;background:#0b0f14;overflow:hidden}
  .card .thumb img{width:100%;height:100%;object-fit:cover;display:block;opacity:.9}
  .card .body{padding:14px;display:flex;flex-direction:column;gap:8px}
  .card .body .cat{font-size:11px;font-weight:700;color:var(--accent2)}
  .card .body .ttl{font-size:16px;font-weight:800;margin:0}
  .card .body .ttl a{color:inherit;text-decoration:underline;font-weight:800}
  .card .body .ttl a:hover{opacity:.9}
  .card .body .time{font-size:12px;color:var(--muted)}

  /* Footer note */
  footer{color:var(--muted);text-align:center;padding:26px 0}
</style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="https://upload.wikimedia.org/wikipedia/commons/9/98/Logo_Tereos_2016.png" alt="Tereos" />
      <h1>Veille sectorielle — Tereos M&A</h1>
    </div>
  </header>

  <div class="wrap">
    <!-- Chips catégories -->
    <div class="chips" id="chips"></div>

    <!-- Carousel compact -->
    <section class="carousel" id="carousel" aria-label="À la une">
      <div class="cnav">
        <button class="cbtn" id="prev" aria-label="Précédent">◀</button>
        <button class="cbtn" id="next" aria-label="Suivant">▶</button>
      </div>
    </section>

    <!-- Grille d'articles -->
    <section class="grid" id="grid"></section>
  </div>

  <footer>UI compacte, moderne. Couleurs Tereos. — © Veille interne</footer>

<script>
  // ====== Jeu de données DEMO (remplace via updateArticles([...])) ======
  const seed = [
    {title:"Coca light : cette boisson est-elle mauvaise pour la santé ? - RTL.fr",
     date:"2025-08-13 06:33:00", category:"Sucre & Matières Premières",
     link:"https://www.rtl.fr/", image:"https://images.unsplash.com/photo-1600275669283-5e4b3f6f49d1?q=80&w=1600&auto=format&fit=crop"},
    {title:"Éthanol : bilan hebdomadaire des prix — USDA",
     date:"2025-08-12 18:05:00", category:"Éthanol & Bioénergies",
     link:"https://www.usda.gov/", image:"https://images.unsplash.com/photo-1581092921461-eab62e97a886?q=80&w=1600&auto=format&fit=crop"},
    {title:"Brésil : taxe export sucre brut discutée au Congrès",
     date:"2025-08-11 10:01:00", category:"Réglementation & Taxes",
     link:"https://www.gov.br/", image:"https://images.unsplash.com/photo-1596040033229-2ec8c7c91e43?q=80&w=1600&auto=format&fit=crop"},
    {title:"Cosumar : résultats semestriels et investissement logistique",
     date:"2025-08-10 17:10:00", category:"Performance financière & M&A",
     link:"https://www.cosumar.ma/", image:"https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=1600&auto=format&fit=crop"},
    {title:"Indonésie : quota import sucre 2025 révisé",
     date:"2025-08-09 08:30:00", category:"Zones géographiques stratégiques",
     link:"https://www.kemendag.go.id/", image:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1600&auto=format&fit=crop"},
    {title:"Tereos : nomination d’un directeur stratégie M&A",
     date:"2025-08-08 12:00:00", category:"Actualités Corporate Tereos",
     link:"https://www.tereos.com/", image:"https://images.unsplash.com/photo-1557426272-fc759fdf7a8d?q=80&w=1600&auto=format&fit=crop"},
    {title:"Europe : arbitrages concurrence sucre raffiné",
     date:"2025-08-07 09:40:00", category:"Concurrence Sucrière",
     link:"https://ec.europa.eu/", image:"https://images.unsplash.com/photo-1543087903-1ac2ec7aa8c5?q=80&w=1600&auto=format&fit=crop"}
  ];

  // ====== State ======
  let ARTICLES = [...seed];
  let ACTIVE_CAT = 'Toutes';
  let IDX = 0;

  const EL = {
    chips: document.getElementById('chips'),
    grid: document.getElementById('grid'),
    carousel: document.getElementById('carousel'),
    prev: document.getElementById('prev'),
    next: document.getElementById('next')
  };

  // ====== Utils ======
  const fmtDate = s => {
    const d = new Date(s.replace(' ', 'T'));
    if (isNaN(d)) return s;
    return d.toLocaleString('fr-FR', {year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit'});
  };

  const uniq = arr => Array.from(new Set(arr));

  // ====== Render Chips ======
  function renderChips(){
    const cats = ['Toutes', ...uniq(ARTICLES.map(a=>a.category)).sort()];
    EL.chips.innerHTML = cats.map(c=>`<button class="chip ${c===ACTIVE_CAT?'active':''}" data-cat="${c}">${c}</button>`).join('');
    EL.chips.querySelectorAll('.chip').forEach(btn=>{
      btn.addEventListener('click',()=>{ ACTIVE_CAT = btn.dataset.cat; renderAll(); });
    });
  }

  // ====== Render Carousel (top 1 par catégorie active, sinon top 1 global) ======
  function renderCarousel(){
    const list = filtered();
    EL.carousel.querySelectorAll('.slide').forEach(n=>n.remove());
    if(!list.length){ return; }
    const top = list[0];
    const slide = document.createElement('article');
    slide.className = 'slide active';
    slide.innerHTML = `
      <div class="media"><img src="${top.image||''}" alt=""/></div>
      <div class="meta">
        <span class="kicker">À la une</span>
        <h2 class="title"><a class="pill" href="${top.link}" target="_blank" rel="noopener">Lire</a> ${top.title}</h2>
        <div class="date">${fmtDate(top.date)} · <span class="pill">${top.category}</span></div>
      </div>`;
    EL.carousel.appendChild(slide);
    IDX = 0;
  }

  // Navigation (si on veut faire défiler, on tourne dans la même liste filtrée)
  function shift(dir){
    const list = filtered();
    if(!list.length) return;
    IDX = (IDX + dir + list.length) % list.length;
    const a = list[IDX];
    const slide = EL.carousel.querySelector('.slide');
    if(!slide) return;
    slide.querySelector('.media img').src = a.image||'';
    slide.querySelector('.title').innerHTML = `<a class="pill" href="${a.link}" target="_blank" rel="noopener">Lire</a> ${a.title}`;
    slide.querySelector('.date').innerHTML = `${fmtDate(a.date)} · <span class="pill">${a.category}</span>`;
  }
  EL.prev.addEventListener('click',()=>shift(-1));
  EL.next.addEventListener('click',()=>shift(1));

  // ====== Render Grid ======
  function renderGrid(){
    const list = filtered();
    EL.grid.innerHTML = list.map(a=>`
      <article class="card">
        <div class="thumb">${a.image?`<img src="${a.image}" alt="">`:''}</div>
        <div class="body">
          <span class="cat">${a.category}</span>
          <h3 class="ttl"><a href="${a.link}" target="_blank" rel="noopener">${a.title}</a></h3>
          <div class="time">${fmtDate(a.date)}</div>
        </div>
      </article>
    `).join('');
  }

  function filtered(){
    return ARTICLES
      .filter(a=>ACTIVE_CAT==='Toutes' || a.category===ACTIVE_CAT)
      .sort((a,b)=> new Date(b.date.replace(' ','T')) - new Date(a.date.replace(' ','T')));
  }

  function renderAll(){
    renderChips();
    renderCarousel();
    renderGrid();
  }

  // ====== API publique pour brancher ton flux ======
  window.updateArticles = function(list){
    if(!Array.isArray(list)) return;
    ARTICLES = list.map(x=>({
      title: String(x.title||''),
      date: String(x.date||x.pubDate||''),
      category: String(x.category||x.cat||'Autres'),
      link: String(x.link||x.url||'#'),
      image: String(x.image||x.enclosure||'')
    }));
    ACTIVE_CAT = 'Toutes';
    renderAll();
  }

  // Init
  renderAll();
</script>
</body>
</html>
